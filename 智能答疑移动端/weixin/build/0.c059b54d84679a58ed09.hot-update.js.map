{"version":3,"sources":["webpack:///comp-8.vue?8496"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AA8GA;;qBACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAJA;;QAKA;iBACA;sBACA;SACA;kBACA;;kBAEA;0BACA;;2BAEA;uBACA;uBACA;qBACA;sBACA;iEACA;iEACA;AACA;AACA;AACA;gBACA;wBACA;kBACA;qBACA;kBACA;mBACA;mBACA;mBACA;uBACA;2LAEA;AArBA;AAsBA;;;gCAEA;;yCAEA;2BACA;0BACA;+BACA;2DACA;0DACA;sDACA;8DAEA;AATA;AAWA;AAbA;;gCAeA;iBACA;yBACA;AACA;4BACA;iBACA;yBACA;AAEA;AATA;;2CAWA;6BACA;iDACA;AACA;yCACA;gCACA;4FACA;8FACA;0DACA;AACA;AACA;gFACA;gFAEA;AACA;AACA;uCACA;6BACA;AACA;6CACA;8BACA;mDACA;AACA;2CACA;iCACA;AACA;mIACA;2DACA;AACA;AACA;iFAEA;AACA;AACA;yCACA;8BACA;AACA;;AACA;;;6BAGA;AAFA,mCAGA;2CACA;AACA;AAEA;AA9CA;;AA+CA;;gCACA;4EACA;uBACA,yBACA;oCACA;;AAEA;6BACA;4CACA;AACA;AACA;AACA;2BACA;2BACA;2BAKA;AAGA;AACA;;YACA;AAzHA,E","file":"0.c059b54d84679a58ed09.hot-update.js","sourcesContent":["<!--修改日期：2017/6/20  11:00-->\r\n\r\n<template>\r\n    <div class=\"table_list\" :key=\"(new Date()).getTime()\">\r\n        <div v-if=\"pick_items\">\r\n            <div class=\"title\" v-if=\"$store.state.scode=='NLGYFE'\">\r\n                <span :class=\"title_idx==1?'active':''\" :style=\"{background: title_idx==1?$store.state.themeColor:''}\"\r\n                      @click=\"title_idx=1;url=$store.state.host + $store.state.baseUrl + '/findEnrollPlanDetail'\"> 专业历年招生计划 </span>\r\n                <span :class=\"title_idx==0?'active':''\" :style=\"{background: title_idx==0?$store.state.themeColor:''}\"\r\n                      @click=\"title_idx=0;url=$store.state.host + $store.state.baseUrl + '/findEnrollPlan'\"> 学校历年招生计划 </span>\r\n            </div>\r\n            <div class=\"title\" v-if=\"$store.state.scholl.code!='NLGYFE'\">\r\n                <span :class=\"title_idx==0?'active':''\" :style=\"{background: title_idx==0?$store.state.themeColor:''}\"\r\n                      @click=\"title_idx=0;url=$store.state.host + $store.state.baseUrl + '/findEnrollPlan'\"> 学校历年招生计划 </span>\r\n                <span :class=\"title_idx==1?'active':''\" :style=\"{background: title_idx==1?$store.state.themeColor:''}\"\r\n                      @click=\"title_idx=1;url=$store.state.host + $store.state.baseUrl + '/findEnrollPlanDetail'\"> 专业历年招生计划 </span>\r\n            </div>\r\n            <div class=\"pick_items\">\r\n                <div class=\"pick_item\">\r\n                    <span class=\"pick_name\">生&#32;源&#32;地：</span>\r\n                    <select v-model=\"city\">\r\n                        <option v-for=\"x of pick_items.cityList\" v-text=\"x.name\"></option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"pick_item\">\r\n                    <span class=\"pick_name\">科&#12288;&#12288;类：</span>\r\n                    <select v-model=\"science\">\r\n                        <option selected>全部</option>\r\n                        <option v-for=\"x of pick_items.scienceList\" v-text=\"x\">文科</option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"pick_item\">\r\n                    <span class=\"pick_name\">年&#12288;&#12288;度：</span>\r\n                    <select v-model=\"year\">\r\n                        <option v-for=\"x of pick_items.yearList\" v-text=\"x\"></option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"pick_item\">\r\n                    <span class=\"pick_name\">招生类型：</span>\r\n                    <select v-model=\"etype\">\r\n                        <option value=\"全部\" selected>全部</option>\r\n                        <option v-for=\"x of pick_items.typeList\" v-text=\"x\"></option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"pick_item\">\r\n                    <span class=\"pick_name\">录取批次：</span>\r\n                    <select v-model=\"batch\">\r\n                        <option value=\"全部\" selected>全部</option>\r\n                        <option v-for=\"x of pick_items.batchList\" v-text=\"x\"></option>\r\n                    </select>\r\n                </div>\r\n                <div v-show=\"title_idx==1\" class=\"pick_item\">\r\n                    <span class=\"pick_name\">专&#12288;&#12288;业：</span>\r\n                    <select v-model=\"major\">\r\n                        <option value=\"\" selected>全部</option>\r\n                        <option v-for=\"x of pick_items.majorList\" v-text=\"x\"></option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <h3>(表格可滑动)</h3>\r\n        <div class=\"t_table\">\r\n            <div class=\"t_head\">\r\n                <div class=\"left\">\r\n                    <span class=\"x\" :style=\"{background: $store.state.themeColor,color:'#fff'}\">\r\n                        <b>年度</b>\r\n                        <b>详情</b>\r\n                    </span>\r\n                </div>\r\n                <div class=\"right\" ref=\"tright\" id=\"tright\">\r\n                    <div class=\"main\" id=\"tmain\" @touchstart=\"touchstart\" @touchmove=\"touchmove\" @touchend=\"touchend\"\r\n                         ref=\"tmain\" :key=\"(new Date()).getTime()\">\r\n                        <span :style=\"{background: $store.state.themeColor,color:'#fff'}\"\r\n                              v-show=\"title_idx==1\">专业</span>\r\n                        <span :style=\"{background: $store.state.themeColor,color:'#fff'}\">计划招生人数</span>\r\n                        <span :style=\"{background: $store.state.themeColor,color:'#fff'}\">招生类型</span>\r\n                        <span :style=\"{background: $store.state.themeColor,color:'#fff'}\">录取批次</span>\r\n                        <span :style=\"{background: $store.state.themeColor,color:'#fff'}\">生源地</span>\r\n                        <span :style=\"{background: $store.state.themeColor,color:'#fff'}\">科类</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- <div class=\"t_body\" @touchstart=\"touchstart2\" @touchmove.prevent=\"touchmove2\" @touchend=\"touchend2\" ref=\"tbody\" :key=\"(new Date()).getTime()\"> -->\r\n            <div class=\"t_body\">\r\n                <div class=\"left\">\r\n                    <span v-for=\"x of yDataList\" :style=\"{background: $store.state.themeColor,color:'#fff'}\"\r\n                          v-text=\"x.year?x.year:noneData\"></span>\r\n                </div>\r\n                <div class=\"right\">\r\n                    <div class=\"main\" id=\"smain\" @touchstart=\"touchstart\" @touchmove=\"touchmove\" @touchend=\"touchend\"\r\n                         ref=\"smain\" :key=\"(new Date()).getTime()\">\r\n                        <div class=\"mitem\" v-for=\"x of yDataList\">\r\n                            <span v-show=\"title_idx==1\" v-text=\"x.majorName?x.majorName:noneData\"></span>\r\n                            <span v-text=\"title_idx==0?(x.totalNum?x.totalNum:noneData):(x.enrollNum?x.enrollNum:noneData)\"></span>\r\n                            <span v-text=\"x.enrollType?x.enrollType:noneData\"></span>\r\n                            <span v-text=\"x.batch?x.batch:noneData\"></span>\r\n                            <span v-text=\"x.cityName?x.cityName:noneData\"></span>\r\n                            <span v-text=\"x.science?x.science:noneData\"></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <loading-img></loading-img>\r\n    </div>\r\n</template>\r\n<script type=\"text/javascript\">\r\n    import loadingImg from './loadingImg2.vue'\r\n//    import $ from '../lib/jquery-1.11.3.js';\r\n\r\n    var translateXFlag = false\r\n    var x = 0\r\n    var translateX = 0\r\n    var translateXFlag2 = false\r\n    var x2 = 0\r\n    var translateX2 = 0\r\n    export default {\r\n        components: {loadingImg},\r\n        data() {\r\n            return {\r\n                noneData: '-',  //此处为新增\r\n                picksFlag: false,\r\n                tableFlag: false,\r\n                barFlag: false,\r\n                lineFlag: false,\r\n                title_idx: this.$store.state.scode == 'NLGYFE' ? 1 : 0,\r\n                table_idx: this.$store.state.scode == 'NLGYFE' ? 1 : 0,\r\n                // x:0,\r\n                // translateX:0,\r\n                // translateXFlag:false,\r\n                tx: 0,\r\n                pick_items: null,\r\n                city: '',\r\n                science: '',\r\n                year: '',\r\n                etype: '',\r\n                batch: '',\r\n                major: '',\r\n                yDataList: null,\r\n                url: this.$store.state.scode == 'NLGYFE' ? (this.$store.state.host + this.$store.state.baseUrl + '/findEnrollPlanDetail') : (this.$store.state.host + this.$store.state.baseUrl + '/findEnrollPlan'),\r\n            }\r\n        },\r\n        computed: {\r\n            yData: function () {\r\n                return {\r\n                    sCode: this.$store.state.scode,\r\n                    year: this.year,\r\n                    needPage: false,\r\n                    cityName: this.city,\r\n                    enrollType: this.etype == '全部' ? '' : this.etype,\r\n                    science: this.science==''?'全部':this.science,\r\n                    batch: this.batch == '全部' ? '' : this.batch,\r\n                    majorName: this.title_idx == 1 ? this.major : ''\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            yData: function () {\r\n                this.getYData()\r\n                translateX = 0\r\n            },\r\n            url: function () {\r\n                this.getYData()\r\n                translateX = 0\r\n            },\r\n        },\r\n        methods: {\r\n            touchstart: function (e) {\r\n                translateXFlag = true;\r\n                x = -translateX + e.targetTouches[0].clientX\r\n            },\r\n            touchmove: function (e) {\r\n                if (translateXFlag) {\r\n                    var w = parseInt(this.$refs.tright.offsetWidth) - parseInt(this.$refs.tmain.offsetWidth)\r\n                    if (e.targetTouches[0].clientX - x > 0 || e.targetTouches[0].clientX - x < w) return;\r\n                    translateX = (e.targetTouches[0].clientX - x)\r\n                    // console.log(translateX,w)\r\n                    // console.log(this.$refs.tmain.style.transform)\r\n                    this.$refs.tmain.style.transform = 'translateX(' + translateX + 'px)'\r\n                    this.$refs.smain.style.transform = 'translateX(' + translateX + 'px)'\r\n\r\n                }\r\n            },\r\n            touchend: function (e) {\r\n                translateXFlag = false;\r\n            },\r\n            touchstart2: function (e) {\r\n                translateXFlag2 = true;\r\n                x2 = -translateX2 + e.targetTouches[0].clientY\r\n            },\r\n            touchmove2: function (e) {\r\n                if (translateXFlag2) {\r\n                    // if (e.targetTouches[0].clientY - x2 > 0 || e.targetTouches[0].clientY - x2 < -(1500/64*parseInt(document.documentElement.style.fontSize))) return;\r\n                    if (e.targetTouches[0].clientY - x2 > 0 || e.targetTouches[0].clientY - x2 < -this.$refs.tbody.offsetHeight * 0.9) return;\r\n                    translateX2 = (e.targetTouches[0].clientY - x2)\r\n                    // console.log(translateX,w)\r\n                    // console.log(this.$refs.tmain.style.transform)\r\n                    this.$refs.tbody.style.transform = 'translateY(' + translateX2 + 'px)'\r\n\r\n                }\r\n            },\r\n            touchend2: function (e) {\r\n                translateXFlag2 = false;\r\n            },\r\n            getYData: function () {\r\n                this.$http.post(this.url, this.yData, {\r\n                    emulateJSON: true\r\n                })\r\n                    .then(res => {\r\n                        this.yDataList = res.data.data\r\n                    })\r\n            },\r\n        },\r\n        mounted() {\r\n            var state = this.$store.state\r\n            var url = state.host + state.baseUrl + '/enrollPlan?scode=' + state.scode\r\n            this.$http.get(url)\r\n                .then(res => {\r\n                    this.pick_items = res.data\r\n                    this.city = res.data.cityList[0].name\r\n//                    this.science = res.data.scienceList[0]\r\n                    this.science='全部'\r\n                    this.year = res.data.yearList[0]\r\n                    //this.etype = res.data.typeList[0]\r\n                    //this.batch = res.data.batchList[0]\r\n                    //this.major = res.data.majorList[0]\r\n                    this.etype = '全部'\r\n                    this.batch = '全部'\r\n                    this.major = ''\r\n\r\n\r\n\r\n\r\n                })\r\n\r\n\r\n        },\r\n        props: ['infoId']\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    @import \"../css/common.scss\";\r\n\r\n    * {\r\n        box-sizing: border-box\r\n    }\r\n\r\n    .table_list {\r\n        padding: pxToRem(40);\r\n        h3 {\r\n            text-align: right;\r\n            color: #999;\r\n            margin-bottom: pxToRem(20);\r\n        }\r\n        .title {\r\n            height: pxToRem(60);\r\n            display: flex;\r\n            margin-bottom: pxToRem(20);\r\n            span {\r\n                flex: 1;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                background: #e5e5e5;\r\n                white-space: nowrap;\r\n                font-size: pxToRem(24);\r\n                &.active {\r\n                    color: #fff;\r\n                }\r\n            }\r\n        }\r\n        .pick_items {\r\n            overflow: hidden;\r\n        }\r\n        .pick_item {\r\n            width: pxToRem(300);\r\n            float: left;\r\n            margin: 0 pxToRem(35) pxToRem(10) 0;\r\n            .pick_name {\r\n                float: left;\r\n                width: pxToRem(150);\r\n                font-size: pxToRem(28);\r\n                white-space: nowrap;\r\n            }\r\n            select {\r\n                float: left;\r\n                width: pxToRem(150);\r\n            }\r\n        }\r\n        .table_picks {\r\n            margin-top: pxToRem(30);\r\n            margin-bottom: pxToRem(15);\r\n            display: flex;\r\n            justify-content: space-between;\r\n            span {\r\n                font-size: pxToRem(28);\r\n                border-bottom: pxToRem(3) solid #ddd;\r\n                width: pxToRem(320);\r\n                text-align: center;\r\n                padding-bottom: pxToRem(15);\r\n            }\r\n        }\r\n        .t_table {\r\n            .t_head,\r\n            .t_body {\r\n                font-size: 0; //此处为新增\r\n                overflow: hidden;\r\n                display: flex;\r\n                .left {\r\n                    /***************************影响左侧方格*********************************/\r\n                    span {\r\n                        /*float: left;*/\r\n                        /*margin-bottom: pxToRem(2);*/\r\n                        position: relative;\r\n                        &:after {\r\n                            content: '';\r\n                            width: 100%;\r\n                            height: 1px;\r\n                            position: absolute;\r\n                            bottom: 0;\r\n                            left: 0;\r\n                            background: #eee;\r\n                            z-index: 1000;\r\n                        }\r\n                    }\r\n                }\r\n                .mitem {\r\n                    /*float: left;*/\r\n                    /*height: inherit;*/\r\n                    /*margin-bottom: pxToRem(2);*/\r\n                    &:nth-of-type(2n) {\r\n                        background: #e2f1f9;\r\n                    }\r\n                    /**********************************影响右侧方格****************************/\r\n                    span {\r\n                        /*border: pxToRem(2) solid #ddd;*/\r\n                        /*border-top: 0;*/\r\n                        /*border-left: 0;*/\r\n                        border-right: 1px solid #ddd;\r\n                        border-bottom: 1px solid #ddd;\r\n                    }\r\n                }\r\n            }\r\n            .t_body {\r\n                .main,\r\n                .right {\r\n                    overflow: visible !important;\r\n                }\r\n            }\r\n            .left,\r\n            .right {\r\n                float: left;\r\n            }\r\n            .left {\r\n                width: pxToRem(170);\r\n                z-index: 998;\r\n            }\r\n            .right {\r\n                flex: 1;\r\n                position: relative;\r\n                overflow: hidden;\r\n                height: pxToRem(70);\r\n                font-size: 0;\r\n                .main {\r\n                    position: absolute;\r\n                    top: 0;\r\n                    left: 0;\r\n                    height: 100%;\r\n                    overflow: hidden;\r\n                    white-space: nowrap;\r\n                    span {\r\n                        font-size: pxToRem(28);\r\n                        // float: left;\r\n                    }\r\n                }\r\n            }\r\n            span {\r\n                display: inline-block;\r\n                text-align: center;\r\n                white-space: nowrap;\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n                border-right: 1px solid #fff;\r\n                height: pxToRem(70);\r\n                line-height: pxToRem(70);\r\n                width: pxToRem(170);\r\n                font-weight: 300;\r\n                font-size: pxToRem(28); //此处为新增\r\n            }\r\n            .x {\r\n                display: flex;\r\n                width: pxToRem(170);\r\n                position: relative;\r\n                box-sizing: border-box;\r\n                justify-content: space-between;\r\n                align-items: center;\r\n                b {\r\n                    font-weight: 300;\r\n                    position: relative;\r\n                }\r\n                b:first-child {\r\n                    top: pxToRem(11);\r\n                }\r\n                b:last-child {\r\n                    top: pxToRem(-11);\r\n                }\r\n            }\r\n            .x:before {\r\n                content: \"\";\r\n                position: absolute;\r\n                width: pxToRem(1);\r\n                height: pxToRem(200);\r\n                /*这里需要自己调整，根据td的宽度和高度*/\r\n                top: 0;\r\n                left: 0;\r\n                background-color: #fff;;\r\n                display: block;\r\n                transform: rotate(-68deg);\r\n                /*这里需要自己调整，根据线的位置*/\r\n                transform-origin: top;\r\n            }\r\n        }\r\n    }\r\n\r\n    #main,\r\n    #main2 {\r\n        width: 100%;\r\n        height: pxToRem(800);\r\n        margin-top: pxToRem(40);\r\n        span {\r\n            width: .2rem;\r\n            height: .2rem;\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// comp-8.vue?7aedf34d"],"sourceRoot":""}